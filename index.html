<!DOCTYPE html>
<html lang="en">
<head>
    <title>Test</title>
    <meta charset="utf-8">
    <link href="https://unpkg.com/tabulator-tables@4.9.3/dist/css/bootstrap/tabulator_bootstrap4.min.css" rel="stylesheet">
    <script src="https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.min.js"></script>
</head>
<body>
<main>
    <p>data-version = <span id="data-version">analyzing ...</span></p>
    <div id="example-table"></div>
</main>
<script>
    let data_version = undefined
    const table = new Tabulator("#example-table", {
        ajaxURL: "data.json",
        ajaxProgressiveLoad:"load",
        layout: "fitDataStretch",
        ajaxResponse: function(url, params, response){
            data_version = response.data_version
            document.getElementById("data-version").innerText = data_version
            return response;
        },
        rowFormatter:function(row){
            if(row.getData().data_version < data_version){
                row.getElement().classList.add("table-secondary");
            }
        },
        columns: [
            {title: "Name", field: "name"},
            {
                title: "Location", field: "location", cellClick: function (e, cell) {
                    window.open(cell.getData().location, '_blank')
                },
            },
            {title: "Text", field: "text"},
        ],
    });
</script>
</body>
</html>
